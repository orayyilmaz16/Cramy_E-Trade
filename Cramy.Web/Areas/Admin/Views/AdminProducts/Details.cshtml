@model Cramy.Domain.Entities.Product
@{
    ViewData["Title"] = "Ürün Detayı";
    Layout = "_AdminLayout";
}

<div class="admin-glass-page">
    <div class="container glass-wrap">
        <div class="glass-card">

            <div class="glass-card-header">
                <div>
                    <div class="holo-pill">Cramy Admin • Ürün Detayı</div>
                    <h3 class="mt-2 mb-0">@Model.Name</h3>
                    <div class="small-muted mt-1">SKU: @Model.SKU</div>
                </div>

                <div class="d-flex gap-2">
                    <a class="btn btn-glass"
                       asp-area="Admin" asp-controller="AdminProducts" asp-action="Index">
                        Geri
                    </a>
                    <a class="btn btn-glass btn-primary-glow"
                       asp-area="Admin" asp-controller="AdminProducts" asp-action="Edit" asp-route-id="@Model.Id">
                        Düzenle
                    </a>
                    <a class="btn btn-glass btn-danger-glow"
                       asp-area="Admin" asp-controller="AdminProducts" asp-action="Delete" asp-route-id="@Model.Id">
                        Sil
                    </a>
                </div>
            </div>

            <div class="glass-card-body">
                <div class="row g-4">
                    <div class="col-12 col-lg-4">
                        <div class="admin-detail-media">
                            @if (!string.IsNullOrWhiteSpace(Model.ImageUrl))
                            {
                                <img src="@Model.ImageUrl" alt="@Model.Name" class="admin-detail-img" />
                            }
                            else
                            {
                                <div class="admin-detail-img admin-detail-placeholder">
                                    <span class="small-muted">Görsel yok</span>
                                </div>
                            }

                            <div class="mt-3 d-flex flex-wrap gap-2">
                                @if (Model.IsActive)
                                {
                                    <span class="badge-soft badge-state badge-state-on">Aktif</span>
                                }
                                else
                                {
                                    <span class="badge-soft badge-state badge-state-off">Pasif</span>
                                }

                                <span class="badge-soft">Stok: @Model.StockQuantity</span>
                                <span class="badge-soft">Fiyat: @Model.Price.ToString("C")</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-lg-8">
                        <div class="admin-detail-section">
                            <div class="admin-detail-grid">
                                <div class="admin-detail-item">
                                    <div class="admin-detail-label">Ürün ID</div>
                                    <div class="admin-detail-value">@Model.Id</div>
                                </div>

                                <div class="admin-detail-item">
                                    <div class="admin-detail-label">Kategori</div>
                                    <div class="admin-detail-value">@Model.Category?.Name</div>
                                </div>

                                <div class="admin-detail-item">
                                    <div class="admin-detail-label">SKU</div>
                                    <div class="admin-detail-value">@Model.SKU</div>
                                </div>

                                <div class="admin-detail-item">
                                    <div class="admin-detail-label">Oluşturulma (UTC)</div>
                                    <div class="admin-detail-value">@Model.CreatedAtUtc.ToString("dd.MM.yyyy HH:mm")</div>
                                </div>

                                <div class="admin-detail-item">
                                    <div class="admin-detail-label">Görsel URL</div>
                                    <div class="admin-detail-value">
                                        @if (!string.IsNullOrWhiteSpace(Model.ImageUrl))
                                        {
                                            <a href="@Model.ImageUrl" target="_blank" rel="noopener" class="admin-link">
                                                @Model.ImageUrl
                                            </a>
                                        }
                                        else
                                        {
                                            <span class="small-muted">—</span>
                                        }
                                    </div>
                                </div>
                            </div>

                            <hr class="admin-hr" />

                            <div class="admin-detail-item">
                                <div class="admin-detail-label mb-2">Açıklama</div>
                                @if (!string.IsNullOrWhiteSpace(Model.Description))
                                {
                                    <div class="admin-detail-desc">@Model.Description</div>
                                }
                                else
                                {
                                    <div class="small-muted">Açıklama yok.</div>
                                }
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex flex-wrap gap-2 mt-4">
                    <a class="btn btn-glass"
                       asp-area="Admin" asp-controller="AdminProducts" asp-action="Index">
                        Listeye Dön
                    </a>
                    <a class="btn btn-glass btn-primary-glow"
                       asp-area="Admin" asp-controller="AdminProducts" asp-action="Edit" asp-route-id="@Model.Id">
                        Ürünü Düzenle
                    </a>
                    <a class="btn btn-glass btn-danger-glow"
                       asp-area="Admin" asp-controller="AdminProducts" asp-action="Delete" asp-route-id="@Model.Id">
                        Ürünü Sil
                    </a>
                </div>
            </div>

        </div>
    </div>
</div>

@section Styles {
    <style>
        .admin-detail-img {
            width: 100%;
            height: 320px;
            object-fit: cover;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,.14);
            background: rgba(255,255,255,.06);
            box-shadow: 0 18px 50px rgba(0,0,0,.30);
        }

        .admin-detail-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        

        .admin-detail-item {
            padding: 12px 14px;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,.10);
            background: rgba(255,255,255,.03);
        }

        .admin-detail-label {
            font-size: .88rem;
            color: rgba(229,231,235,.72);
        }

        .admin-detail-value {
            margin-top: 4px;
            color: #f3f4f6;
            word-break: break-word;
        }

        .admin-detail-desc {
            white-space: pre-wrap;
            color: #f3f4f6;
            line-height: 1.55;
        }

        .admin-hr {
            border-color: rgba(255,255,255,.10);
            opacity: 1;
            margin: 18px 0;
        }

        .admin-link {
            color: rgba(34,211,238,.95);
            text-decoration: underline;
        }

        /* Durum badge renkleri (index ile aynı) */
        .badge-state-on {
            border-color: rgba(16,185,129,.35);
            background: rgba(16,185,129,.12);
        }

        .badge-state-off {
            border-color: rgba(239,68,68,.35);
            background: rgba(239,68,68,.10);
        }
    </style>
}
